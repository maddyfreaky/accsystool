{% extends 'main.html' %}
{% load static %}

{% block content %}

<script src="{% static 'NiceAdmin/NiceAdmin/assets/js/todopage.js' %}"></script>


<body>

 

 

  <main id="main" class="main">

    <div class="pagetitle">
      <h1>Projects</h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="index.html">Home</a></li>
          <li class="breadcrumb-item">Tables</li>
          <li class="breadcrumb-item active">Data</li>
        </ol>
      </nav>
    </div><!-- End Page Title -->

    <section class="section">
      <div class="row">
        <div class="col-lg-12">

          <div class="card">
            <div class="card-body">
             
             
             
             <input type="submit" class="btn btn-primary mt-2" value="Create Project" data-bs-toggle="modal" data-bs-target="#fdModal">
             <p>
                
             </p>

              <!-- Table with stripped rows -->
           <!-- Table with stripped rows -->
<table class="table datatable">
  <thead>
      <tr>
          <th>Project name</th>
          <th>Created_Date</th>

          <th>Type</th>
          <th>Lead</th>
          <th>Action</th>
      </tr>
  </thead>
  <tbody>
      {% for project in projects %}
      <tr>
          <td><a href="{% url 'projects' project.id  %}">{{ project.projectname }}</a></td>
          <!-- <td>{{ project.id }}</td>  -->
         <td> {{ project.created_at|date:"d-m-y g:iA" }}</td>
          <td></td>
           <td></td>
         
          <td>
              <div class="filter">
                  <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
                  <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                      <li><a class="dropdown-item" href="#">View</a></li>
                      <li><a class="dropdown-item" href="#">Edit</a></li>
                      <li><a class="dropdown-item delete-link" href="{% url 'delete_project' project.id %}" onclick="return confirmDelete();">Delete</a></li>
                  </ul>
              </div>
          </td>
      </tr>
      {% endfor %}
  </tbody>
</table>
<!-- End Table with stripped rows -->

              <!-- End Table with stripped rows -->

            </div>
          </div>

        </div>
      </div>
    </section>

  </main><!-- End #main -->



  <!-- Template Main JS File -->
  <!-- <script>
    function confirmDelete() {
      return confirm("Are you sure you want to delete this project?");
    }
  </script> -->
</body>


<form method="post" action="{% url 'todopgt' %}">
  {% csrf_token %}
<div class="modal fade" id="fdModal" tabindex="-1" >
  <div class="modal-dialog modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"> TODO List</h5> <br>

       
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">

         
      
        <div class="col-12">
          <label for="yourUsername" class="form-label">Project Name</label>
          <div class="input-group has-validation">
            <input type="text" name="projectname" class="form-control" id="yourUsername" placeholder="Enter your project name" required>
            <div class="invalid-feedback"></div>
          </div>
        </div>


      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-primary">Save</button>
      </div>
    </div>
  </div>
</div>


</form>


{% endblock content %}